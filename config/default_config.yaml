%YAML:1.0
---

camera:
  width: 960
  height: 480
  polar_exclusion_ratio: 0.15
  boundary_margin: 20

feature_detection:
  max_features: 1000
  quality_level: 0.01
  min_distance: 30.0
  grid_cols: 20
  grid_rows: 10
  max_features_per_grid: 10

optical_flow:
  window_size: 51
  max_level: 3
  max_iterations: 30
  epsilon: 0.01

ransac:
  max_iterations: 1000
  threshold_degrees: 5.0
  confidence: 0.99

tracking:
  min_features_ratio: 0.5
  min_parallax_for_keyframe: 10.0  # Minimum parallax (pixels) to create new keyframe

initialization:
  window_size: 10
  min_parallax: 10.0
  min_features: 50
  min_observations: 10
  grid_cols: 20
  grid_rows: 10
  ransac_threshold: 0.1  # ~6 degrees (sin(6°) ≈ 0.1)
  ransac_iterations: 200
  min_inlier_ratio: 0.7
  max_reprojection_error: 5.0  # Maximum reprojection error in pixels

visualization:
  scale: 1.0
  show_grid: 1
  grid_color: [100, 255, 100]
  grid_thickness: 1
  max_age_for_color: 30
  stable_age_threshold: 5
  highlight_clustered_grid: 1
  clustered_grid_color: [255, 100, 100]
  clustered_std_ratio: 0.25

extrinsics:
  T_BC: 
    - [1.0, 0.0, 0.0, 0.0]
    - [0.0, 1.0, 0.0, 0.0]
    - [0.0, 0.0, 1.0, 0.0]
    - [0.0, 0.0, 0.0, 1.0]

imu:
  frequency: 200.0
  gyro_noise: 0.001
  accel_noise: 0.01
  gyro_bias_noise: 0.0001
  accel_bias_noise: 0.001
